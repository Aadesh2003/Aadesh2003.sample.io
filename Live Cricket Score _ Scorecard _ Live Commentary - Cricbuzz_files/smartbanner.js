(function(){var k=function(b){Array.prototype.slice.call(arguments,1).forEach(function(a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])});return b};Function.prototype.bind||(Function.prototype.bind=function(b){var a=[].slice.call(arguments,1),d=this,c=function(){},e=function(){return d.apply(this instanceof c?this:b||{},a.concat([].slice.call(arguments)))};c.prototype=d.prototype;e.prototype=new c;return e});var f,g;"classList"in document.createElement("input")?(f=function(b,a){b.classList.add(a)},
g=function(b,a){b.classList.remove(a)}):(String.prototype.trim||(String.prototype.trim=function(b){return b.replace(/(^\s*|\s*$)/g,"")}),f=function(b,a){b.className=(b.className+" "+a).trim()},g=function(b,a){b.className=b.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ").trim()});var l=function(b){for(var a=document.cookie.split(";"),d=0;d<a.length;d++){var c=a[d].substr(0,a[d].indexOf("=")),e=a[d].substr(a[d].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,"");if(c==b)return decodeURIComponent(e)}return null},
m=function(b,a,d){var c=new Date;c.setDate(c.getDate()+d);a=encodeURIComponent(a)+(null==d?"":"; expires="+c.toUTCString());document.cookie=b+"="+a+"; path=/;domain=.cricbuzz.com;"},n={ios:{appMeta:"apple-itunes-app",iconRels:["apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(){return"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"+this.appId}},android:{appMeta:"google-play-app",iconRels:["android-touch-icon","apple-touch-icon-precomposed","apple-touch-icon"],
getStoreLink:function(){return"market://details?id="+this.appId}}},h=function(b){var a=navigator.userAgent;this.options=k({},{daysHidden:15,daysReminder:90,appStoreLanguage:"ru",button:"VIEW",store:{ios:"On the App Store",android:"In Google Play"},price:{ios:"FREE",android:"FREE"},force:!1},b||{});this.options.force?this.type=this.options.force:null!==a.match(/iPad|iPhone|iPod/i)?null!==a.match(/Safari/i)&&(null!==a.match(/CriOS/i)||6>window.Number(a.substr(a.indexOf("OS ")+3,3).replace("_",".")))&&
(this.type="ios"):null!==a.match(/Android/i)&&(this.type="android");!this.type||navigator.standalone||l("smartbanner-closed")||l("smartbanner-installed")||(k(this,n[this.type]),this.parseAppId()&&(this.create(),this.show()))};h.prototype={constructor:h,create:function(){for(var b=this.getStoreLink(),a=this.options.price[this.type]+" - "+this.options.store[this.type],d,c=0;c<this.iconRels.length;c++){var e=document.documentElement.querySelector('link[rel="'+this.iconRels[c]+'"]');if(e){d=e.getAttribute("href");
break}}c=document.createElement("div");f(c,"smartbanner");f(c,"smartbanner_"+this.type);c.innerHTML='<div class="smartbanner__container"><a href="javascript:void(0);" class="smartbanner__close">&times;</a><span class="smartbanner__icon" style="background-image: url('+d+')"></span><div class="smartbanner__info"><div class="smartbanner__title">'+this.options.title+"</div><div>"+this.options.author+"</div><span>"+a+'</span></div><a href="'+b+'" class="smartbanner-button"><span class="smartbanner-button__text">'+
this.options.button+"</span></a></div>";document.body.appendChild(c);(c||document.documentElement).querySelector(".smartbanner-button").addEventListener("click",this.install.bind(this),!1);(c||document.documentElement).querySelector(".smartbanner__close").addEventListener("click",this.close.bind(this),!1)},hide:function(){g(document.documentElement,"smartbanner_show")},show:function(){f(document.documentElement,"smartbanner_show")},close:function(){this.hide();m("smartbanner-closed","true",this.options.daysHidden)},
install:function(){this.hide();m("smartbanner-installed","true",this.options.daysReminder)},parseAppId:function(){var b=document.documentElement.querySelector('meta[name="'+this.appMeta+'"]');if(b)return this.appId=/app-id=([^\s,]+)/.exec(b.getAttribute("content"))[1]}};window.SmartBanner=h})();